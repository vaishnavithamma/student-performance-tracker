<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>{% block title %}Student Tracker{% endblock %}</title>

  <!-- Bootstrap -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">

  <!-- Icons -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css" rel="stylesheet">

  <!-- Global Pastel Theme -->
  <style>
    /* ğŸŒˆ Pastel Background */
    body {
        background: linear-gradient(135deg, #ffd6e8, #d7eaff);
        min-height: 100vh;
        background-attachment: fixed;
        font-family: 'Inter', sans-serif;
        color: #333;
        overflow-x: hidden;   /* prevents side scrolling */
    }

    /* ğŸŒ¸ Top Navbar */
    .topbar {
        background: rgba(255, 255, 255, 0.4);
        backdrop-filter: blur(10px);
        border-bottom: 1px solid rgba(255,255,255,0.35);
        padding: 14px 18px;
    }

    .brand {
        color: #2b2b2b;
        font-weight: 700;
        font-size: 20px;
        text-decoration: none;
    }

    .navbar a.btn {
        border-radius: 10px;
        font-weight: 600;
    }

    .btn-outline-light {
        border-color: #fff;
        color: #fff;
    }

    /* ğŸŒˆ Floating Cards */
    .card-panel {
        background: rgba(255, 255, 255, 0.55);
        backdrop-filter: blur(12px);
        border-radius: 18px;
        box-shadow: 0 8px 30px rgba(0,0,0,0.12);
        padding: 25px;
        margin-bottom: 30px;
    }

    .page-title {
        font-size: 32px;
        font-weight: 700;
        margin-bottom: 18px;
        background: linear-gradient(90deg, #ff92bc, #7bb6ff);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
    }

    /* ğŸŒ¸ Buttons */
    .btn-primary {
        background: linear-gradient(135deg, #7bb6ff, #ff92bc);
        border: none;
        padding: 10px 18px;
        border-radius: 12px;
        font-weight: 600;
    }

    .btn-primary:hover {
        opacity: 0.85;
    }

    .btn-danger {
        border-radius: 10px;
    }

    /* ğŸŒˆ Table Styling */
    table {
        border-radius: 14px;
        overflow: hidden;
    }

    thead {
        background: rgba(255,255,255,0.6);
        backdrop-filter: blur(8px);
    }

    th, td {
        padding: 14px !important;
        vertical-align: middle !important;
        background: rgba(255,255,255,0.35);
    }

    /* ğŸŒ¸ Footer */
    .footer {
        background: transparent;
        padding-top: 14px;
        padding-bottom: 14px;
    }
  </style>

  {% block head %}{% endblock %}
</head>

<body>

  <nav class="topbar navbar navbar-expand-lg">
    <div class="container-fluid">

      <a class="brand" href="{{ url_for('index') }}">Student Performance Tracker</a>

      <div class="d-flex align-items-center">
        {% if current_user.is_authenticated %}
          <span class="me-3 text-dark small">Hi, {{ current_user.username }}</span>
          <a class="btn btn-outline-dark btn-sm me-2" href="{{ url_for('logout') }}">Logout</a>
        {% else %}
          <a class="btn btn-outline-dark btn-sm me-2" href="{{ url_for('login') }}">Login</a>
          <a class="btn btn-outline-dark btn-sm" href="{{ url_for('register') }}">Register</a>
        {% endif %}
      </div>

    </div>
  </nav>

  <main class="container my-4">
    {% with messages = get_flashed_messages(with_categories=True) %}
      {% if messages %}
        <div class="flash-wrap">
          {% for category, message in messages %}
            <div class="alert alert-{{ category }} alert-dismissible fade show" role="alert">
              {{ message }}
              <button class="btn-close" data-bs-dismiss="alert"></button>
            </div>
          {% endfor %}
        </div>
      {% endif %}
    {% endwith %}

    {% block content %}{% endblock %}
  </main>

  <footer class="footer text-center small text-muted">
    Â© {{ (now().year if now is defined else '') }} Student Tracker â€” Crafted with â¤ï¸
  </footer>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
  {% block scripts %}{% endblock %}
</body>
</html>
